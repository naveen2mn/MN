var GridViewScrollOptions=(function(){function a(){}return a}());var GridViewScrollScrollPosition=(function(){function a(){}return a}());var GridViewScroll=(function(){function a(b){this._initialized=false;if(b.elementID==null){b.elementID=""}if(b.width==null){b.width="700"}if(b.height==null){b.height="350"}if(b.freezeColumnCssClass==null){b.freezeColumnCssClass=""}if(b.freezeFooterCssClass==null){b.freezeFooterCssClass=""}if(b.freezeHeaderRowCount==null){b.freezeHeaderRowCount=1}if(b.freezeColumnCount==null){b.freezeColumnCount=1}this.initializeOptions(b)}a.prototype.initializeOptions=function(b){this.GridID=b.elementID;this.GridWidth=b.width;this.GridHeight=b.height;this.FreezeColumn=b.freezeColumn;this.FreezeFooter=b.freezeFooter;this.FreezeColumnCssClass=b.freezeColumnCssClass;this.FreezeFooterCssClass=b.freezeFooterCssClass;this.FreezeHeaderRowCount=b.freezeHeaderRowCount;this.FreezeColumnCount=b.freezeColumnCount;this.OnScroll=b.onscroll};a.prototype.enhance=function(){this.FreezeCellWidths=[];this.IsVerticalScrollbarEnabled=false;this.IsHorizontalScrollbarEnabled=false;if(this.GridID==null||this.GridID==""){return}this.ContentGrid=document.getElementById(this.GridID);if(this.ContentGrid==null){return}if(this.ContentGrid.rows.length<2){return}if(this._initialized){this.undo()}this._initialized=true;this.Parent=this.ContentGrid.parentNode;this.ContentGrid.style.display="none";if(typeof this.GridWidth=="string"&&this.GridWidth.indexOf("%")>-1){var b=parseInt(this.GridWidth);this.Width=this.Parent.offsetWidth*b/100}else{this.Width=parseInt(this.GridWidth)}if(typeof this.GridHeight=="string"&&this.GridHeight.indexOf("%")>-1){var b=parseInt(this.GridHeight);this.Height=this.Parent.offsetHeight*b/100}else{this.Height=parseInt(this.GridHeight)}this.ContentGrid.style.display="";this.ContentGridHeaderRows=this.getGridHeaderRows();this.ContentGridItemRow=this.ContentGrid.rows.item(this.FreezeHeaderRowCount);var d=this.ContentGrid.rows.length-1;this.ContentGridFooterRow=this.ContentGrid.rows.item(d);this.Content=document.createElement("div");this.Content.id=this.GridID+"_Content";this.Content.style.position="relative";this.Content=this.Parent.insertBefore(this.Content,this.ContentGrid);this.ContentFixed=document.createElement("div");this.ContentFixed.id=this.GridID+"_Content_Fixed";this.ContentFixed.style.overflow="auto";this.ContentFixed=this.Content.appendChild(this.ContentFixed);this.ContentGrid=this.ContentFixed.appendChild(this.ContentGrid);this.ContentFixed.style.width=String(this.Width)+"px";if(this.ContentGrid.offsetWidth>this.Width){this.IsHorizontalScrollbarEnabled=true}if(this.ContentGrid.offsetHeight>this.Height){this.IsVerticalScrollbarEnabled=true}this.Header=document.createElement("div");this.Header.id=this.GridID+"_Header";this.Header.style.position="relative";this.HeaderFixed=document.createElement("div");this.HeaderFixed.id=this.GridID+"_Header_Fixed";this.HeaderFixed.style.overflow="hidden";this.Header=this.Parent.insertBefore(this.Header,this.Content);this.HeaderFixed=this.Header.appendChild(this.HeaderFixed);this.ScrollbarWidth=this.getScrollbarWidth();this.prepareHeader();this.calculateHeader();this.Header.style.width=String(this.Width)+"px";if(this.IsVerticalScrollbarEnabled){this.HeaderFixed.style.width=String(this.Width-this.ScrollbarWidth)+"px";if(this.IsHorizontalScrollbarEnabled){this.ContentFixed.style.width=String(this.HeaderFixed.style.width-this.ScrollbarWidth)+"px";if(this.isRTL()){this.ContentFixed.style.paddingLeft=String(this.ScrollbarWidth)+"px"}else{this.ContentFixed.style.paddingRight=String(this.ScrollbarWidth)+"px"}}this.ContentFixed.style.height=String(this.Height-this.Header.offsetHeight)+"px"}else{this.HeaderFixed.style.width=this.Header.style.width;this.ContentFixed.style.width=this.Header.style.width}if(this.FreezeColumn&&this.IsHorizontalScrollbarEnabled){this.appendFreezeHeader();this.appendFreezeContent()}if(this.FreezeFooter&&this.IsVerticalScrollbarEnabled){this.appendFreezeFooter();if(this.FreezeColumn&&this.IsHorizontalScrollbarEnabled){this.appendFreezeFooterColumn()}}var c=this;this.ContentFixed.onscroll=function(e){var f=c.ContentFixed.scrollTop;var g=c.ContentFixed.scrollLeft;c.HeaderFixed.scrollLeft=g;if(c.ContentFreeze!=null){c.ContentFreeze.scrollTop=f}if(c.FooterFreeze!=null){c.FooterFreeze.scrollLeft=g}if(c.OnScroll!=null){c.OnScroll(f,g)}}};Object.defineProperty(a.prototype,"scrollPosition",{get:function(){var b=new GridViewScrollScrollPosition();b.scrollTop=this.ContentFixed.scrollTop;b.scrollLeft=this.ContentFixed.scrollLeft;return b},set:function(b){var c=b.scrollTop;var d=b.scrollLeft;this.ContentFixed.scrollTop=c;this.ContentFixed.scrollLeft=d;if(this.ContentFreeze!=null){this.ContentFreeze.scrollTop=c}if(this.FooterFreeze!=null){this.FooterFreeze.scrollLeft=d}},enumerable:true,configurable:true});a.prototype.getGridHeaderRows=function(){var c=new Array();for(var b=0;b<this.FreezeHeaderRowCount;b++){c.push(this.ContentGrid.rows.item(b))}return c};a.prototype.prepareHeader=function(){this.HeaderGrid=this.ContentGrid.cloneNode(false);this.HeaderGrid.id=this.GridID+"_Header_Fixed_Grid";this.HeaderGrid=this.HeaderFixed.appendChild(this.HeaderGrid);this.prepareHeaderGridRows();for(var b=0;b<this.ContentGridItemRow.cells.length;b++){this.appendHelperElement(this.ContentGridItemRow.cells.item(b));this.appendHelperElement(this.HeaderGridHeaderCells[b])}};a.prototype.prepareHeaderGridRows=function(){this.HeaderGridHeaderRows=new Array();for(var d=0;d<this.FreezeHeaderRowCount;d++){var c=this.ContentGridHeaderRows[d];var b=c.cloneNode(true);this.HeaderGridHeaderRows.push(b);this.HeaderGrid.appendChild(b)}this.prepareHeaderGridCells()};a.prototype.prepareHeaderGridCells=function(){this.HeaderGridHeaderCells=new Array();for(var e=0;e<this.ContentGridItemRow.cells.length;e++){for(var g in this.HeaderGridHeaderRows){var c=this.HeaderGridHeaderRows[g];var b=0;for(var d=0;d<c.cells.length;d++){var f=c.cells.item(d);if(f.colSpan==1&&e==b){this.HeaderGridHeaderCells.push(f)}else{b+=f.colSpan-1}b++}}}};a.prototype.calculateHeader=function(){for(var e=0;e<this.ContentGridItemRow.cells.length;e++){var b=this.ContentGridItemRow.cells.item(e);var d=b.firstChild;var c=parseInt(String(d.offsetWidth));this.FreezeCellWidths.push(c);d.style.width=c+"px";d=this.HeaderGridHeaderCells[e].firstChild;d.style.width=c+"px"}for(var e=0;e<this.FreezeHeaderRowCount;e++){this.ContentGridHeaderRows[e].style.display="none"}};a.prototype.appendFreezeHeader=function(){this.HeaderFreeze=document.createElement("div");this.HeaderFreeze.id=this.GridID+"_Header_Freeze";this.HeaderFreeze.style.position="absolute";this.HeaderFreeze.style.overflow="hidden";this.HeaderFreeze.style.top="0px";this.HeaderFreeze.style.left="0px";this.HeaderFreeze.style.width="";this.HeaderFreezeGrid=this.HeaderGrid.cloneNode(false);this.HeaderFreezeGrid.id=this.GridID+"_Header_Freeze_Grid";this.HeaderFreezeGrid=this.HeaderFreeze.appendChild(this.HeaderFreezeGrid);this.HeaderFreezeGridHeaderRows=new Array();for(var c=0;c<this.HeaderGridHeaderRows.length;c++){var e=this.HeaderGridHeaderRows[c].cloneNode(false);this.HeaderFreezeGridHeaderRows.push(e);var d=0;var f=0;while(f<this.FreezeColumnCount){var b=this.HeaderGridHeaderRows[c].cells.item(d).cloneNode(true);e.appendChild(b);f+=b.colSpan;d++}this.HeaderFreezeGrid.appendChild(e)}this.HeaderFreeze=this.Header.appendChild(this.HeaderFreeze)};a.prototype.appendFreezeContent=function(){this.ContentFreeze=document.createElement("div");this.ContentFreeze.id=this.GridID+"_Content_Freeze";this.ContentFreeze.style.position="absolute";this.ContentFreeze.style.overflow="hidden";this.ContentFreeze.style.top="0px";this.ContentFreeze.style.left="0px";this.ContentFreeze.style.width="";this.ContentFreezeGrid=this.HeaderGrid.cloneNode(false);this.ContentFreezeGrid.id=this.GridID+"_Content_Freeze_Grid";this.ContentFreezeGrid=this.ContentFreeze.appendChild(this.ContentFreezeGrid);var c=[];var o=this.getPaddingTop(this.ContentGridItemRow.cells.item(0));var d=this.getPaddingBottom(this.ContentGridItemRow.cells.item(0));for(var k=0;k<this.ContentGrid.rows.length;k++){var g=this.ContentGrid.rows.item(k);var h=g.cells.item(0);var j=void 0;if(h.firstChild.className=="gridViewScrollHelper"){j=h.firstChild}else{j=this.appendHelperElement(h)}var e=parseInt(String(h.offsetHeight-o-d));c.push(e);var n=g.cloneNode(false);var f=h.cloneNode(true);if(this.FreezeColumnCssClass!=null||this.FreezeColumnCssClass!=""){n.className=this.FreezeColumnCssClass}var m=0;var l=0;while(l<this.FreezeColumnCount){var b=g.cells.item(m).cloneNode(true);n.appendChild(b);l+=b.colSpan;m++}this.ContentFreezeGrid.appendChild(n)}for(var k=0;k<this.ContentGrid.rows.length;k++){var g=this.ContentGrid.rows.item(k);var h=g.cells.item(0);var n=this.ContentFreezeGrid.rows.item(k);var f=n.cells.item(0);var j=h.firstChild;j.style.height=String(c[k])+"px";j=f.firstChild;j.style.height=String(c[k])+"px"}if(this.IsVerticalScrollbarEnabled){this.ContentFreeze.style.height=String(this.Height-this.Header.offsetHeight-this.ScrollbarWidth)+"px"}else{this.ContentFreeze.style.height=String(this.ContentFixed.offsetHeight-this.ScrollbarWidth)+"px"}this.ContentFreeze=this.Content.appendChild(this.ContentFreeze)};a.prototype.appendFreezeFooter=function(){this.FooterFreeze=document.createElement("div");this.FooterFreeze.id=this.GridID+"_Footer_Freeze";this.FooterFreeze.style.position="absolute";this.FooterFreeze.style.overflow="hidden";this.FooterFreeze.style.left="0px";this.FooterFreeze.style.width=String(this.ContentFixed.offsetWidth-this.ScrollbarWidth)+"px";this.FooterFreezeGrid=this.HeaderGrid.cloneNode(false);this.FooterFreezeGrid.id=this.GridID+"_Footer_Freeze_Grid";this.FooterFreezeGrid=this.FooterFreeze.appendChild(this.FooterFreezeGrid);this.FooterFreezeGridHeaderRow=this.ContentGridFooterRow.cloneNode(true);if(this.FreezeFooterCssClass!=null||this.FreezeFooterCssClass!=""){this.FooterFreezeGridHeaderRow.className=this.FreezeFooterCssClass}for(var d=0;d<this.FooterFreezeGridHeaderRow.cells.length;d++){var e=this.FooterFreezeGridHeaderRow.cells.item(d);var b=this.appendHelperElement(e);b.style.width=String(this.FreezeCellWidths[d])+"px"}this.FooterFreezeGridHeaderRow=this.FooterFreezeGrid.appendChild(this.FooterFreezeGridHeaderRow);this.FooterFreeze=this.Content.appendChild(this.FooterFreeze);var c=this.ContentFixed.offsetHeight-this.FooterFreeze.offsetHeight;if(this.IsHorizontalScrollbarEnabled){c-=this.ScrollbarWidth}this.FooterFreeze.style.top=String(c)+"px"};a.prototype.appendFreezeFooterColumn=function(){this.FooterFreezeColumn=document.createElement("div");this.FooterFreezeColumn.id=this.GridID+"_Footer_FreezeColumn";this.FooterFreezeColumn.style.position="absolute";this.FooterFreezeColumn.style.overflow="hidden";this.FooterFreezeColumn.style.left="0px";this.FooterFreezeColumn.style.width="";this.FooterFreezeColumnGrid=this.HeaderGrid.cloneNode(false);this.FooterFreezeColumnGrid.id=this.GridID+"_Footer_FreezeColumn_Grid";this.FooterFreezeColumnGrid=this.FooterFreezeColumn.appendChild(this.FooterFreezeColumnGrid);this.FooterFreezeColumnGridHeaderRow=this.FooterFreezeGridHeaderRow.cloneNode(false);this.FooterFreezeColumnGridHeaderRow=this.FooterFreezeColumnGrid.appendChild(this.FooterFreezeColumnGridHeaderRow);if(this.FreezeFooterCssClass!=null){this.FooterFreezeColumnGridHeaderRow.className=this.FreezeFooterCssClass}var d=0;var e=0;while(e<this.FreezeColumnCount){var b=this.FooterFreezeGridHeaderRow.cells.item(d).cloneNode(true);this.FooterFreezeColumnGridHeaderRow.appendChild(b);e+=b.colSpan;d++}var c=this.ContentFixed.offsetHeight-this.FooterFreeze.offsetHeight;if(this.IsHorizontalScrollbarEnabled){c-=this.ScrollbarWidth}this.FooterFreezeColumn.style.top=String(c)+"px";this.FooterFreezeColumn=this.Content.appendChild(this.FooterFreezeColumn)};a.prototype.appendHelperElement=function(b){var c=document.createElement("div");c.className="gridViewScrollHelper";while(b.hasChildNodes()){c.appendChild(b.firstChild)}return b.appendChild(c)};a.prototype.getScrollbarWidth=function(){var d=document.createElement("p");d.style.width="100%";d.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(d);document.body.appendChild(c);var e=d.offsetWidth;c.style.overflow="scroll";var b=d.offsetWidth;if(e===b){b=c.clientWidth}document.body.removeChild(c);return e-b};a.prototype.isRTL=function(){var b="";if(window.getComputedStyle){b=window.getComputedStyle(this.ContentGrid,null).getPropertyValue("direction")}else{b=this.ContentGrid.currentStyle.direction}return b==="rtl"};a.prototype.getPaddingTop=function(b){var c="";if(window.getComputedStyle){c=window.getComputedStyle(b,null).getPropertyValue("padding-Top")}else{c=b.currentStyle.paddingTop}return parseInt(c)};a.prototype.getPaddingBottom=function(b){var c="";if(window.getComputedStyle){c=window.getComputedStyle(b,null).getPropertyValue("padding-Bottom")}else{c=b.currentStyle.paddingBottom}return parseInt(c)};a.prototype.undo=function(){this.undoHelperElement();for(var d=0,b=this.ContentGridHeaderRows;d<b.length;d++){var c=b[d];c.style.display=""}this.Parent.insertBefore(this.ContentGrid,this.Header);this.Parent.removeChild(this.Header);this.Parent.removeChild(this.Content);this._initialized=false};a.prototype.undoHelperElement=function(){for(var d=0;d<this.ContentGridItemRow.cells.length;d++){var b=this.ContentGridItemRow.cells.item(d);var c=b.firstChild;while(c.hasChildNodes()){b.appendChild(c.firstChild)}b.removeChild(c)}if(this.FreezeColumn){for(var d=2;d<this.ContentGrid.rows.length;d++){var e=this.ContentGrid.rows.item(d);var b=e.cells.item(0);var c=b.firstChild;while(c.hasChildNodes()){b.appendChild(c.firstChild)}b.removeChild(c)}}};return a}());
