var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","01:Muharram","02:Safar","03:Rabi Al-Awwal","04:Rabi Al-Thani","05:Jumada Al-Awwal","06:Jumada Al-Thani","07:Rajab","08:Sha'ban","09:Ramadan","10:Shawwal","11:Dhul Qa'idah","12:Dhul Hijjah");var DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");var applicableFormat=null;function LTrim(b){if(b==null){return null}for(var a=0;b.charAt(a)==" ";a++){}return b.substring(a,b.length)}function RTrim(b){if(b==null){return null}for(var a=b.length-1;b.charAt(a)==" ";a--){}return b.substring(0,a+1)}function Trim(a){return LTrim(RTrim(a))}function LTrimAll(b){if(b==null){return b}for(var a=0;b.charAt(a)==" "||b.charAt(a)=="\n"||b.charAt(a)=="\t";a++){}return b.substring(a,b.length)}function RTrimAll(b){if(b==null){return b}for(var a=b.length-1;b.charAt(a)==" "||b.charAt(a)=="\n"||b.charAt(a)=="\t";a--){}return b.substring(0,a+1)}function TrimAll(a){return LTrimAll(RTrimAll(a))}function isBlank(b){if(b==null){return true}for(var a=0;a<b.length;a++){if((b.charAt(a)!=" ")&&(b.charAt(a)!="\t")&&(b.charAt(a)!="\n")&&(b.charAt(a)!="\r")){return false}}return true}function getDifferenceInDays(c,a){var g=new Date(c[2],c[1],c[0]);var e=new Date(a[2],a[1],a[0]);var b=60*1000*60*24;var f=Math.ceil(e.getTime()-g.getTime());f=Math.round(f/b);return f}function checkParam(a){if(typeof(a)=="object"){val=a.value}else{val=a}return val}function isDate(c,b){var a=getDateFromFormat(c,b);if(a==0){return false}return true}function isInteger(b){if(isBlank(b)){alert("Date is Blank");return false}for(var a=0;a<b.length;a++){if(!isDigit(b.charAt(a))){return false}}return true}function isDigit(b){if(b.length>1){return false}var a="1234567890";if(a.indexOf(b)!=-1){return true}return false}function _isInteger(c){var b="1234567890";for(var a=0;a<c.length;a++){if(b.indexOf(c.charAt(a))==-1){return false}}return true}function _getInt(g,e,f,c){for(var a=c;a>=f;a--){var b=g.substring(e,e+a);if(b.length<f){return null}if(_isInteger(b)){return b}}return null}function compareDatesInternal(f,g,c,e){var b=getDateFromFormat(TrimAll(checkParam(f)),g);var a=getDateFromFormat(TrimAll(checkParam(c)),e);if(b==0||a==0){return -1}else{if(b>a){return 1}else{if(a>b){return 2}}}return 0}function getDateFromFormat(I,A){I=I+"";A=A+"";var C=new Array();var H=0;var t=0;var D="";var g="";var G="";var p,o,h=0;var b=new Date();var q=b.getYear();var F=b.getMonth()+1;var E=1;var e=b.getHours();var B=b.getMinutes();var v=b.getSeconds();var r="";var s=false;while(t<A.length){D=A.charAt(t);g="";while((A.charAt(t)==D)&&(t<A.length)){g+=A.charAt(t++)}if(g=="yyyy"||g=="yy"||g=="y"){if(g=="yyyy"){p=4;o=4}if(g=="yy"){p=2;o=2}if(g=="y"){p=2;o=4}q=_getInt(I,H,p,o);if(q==null){return 0}H+=q.length;if(q.length==2){if(q>70){q=1900+(q-0)}else{q=2000+(q-0)}}}else{if(g=="MMM"||g=="NNN"){F=0;for(var w=0;w<MONTH_NAMES.length;w++){var f=MONTH_NAMES[w];if(I.substring(H,H+f.length).toLowerCase()==f.toLowerCase()){if(g=="MMM"||(g=="NNN"&&w>11)){F=w+1;if(F>12){F-=12}H+=f.length;break}}}if((F<1)||(F>12)){return 0}}else{if(g=="EE"||g=="E"){for(var w=0;w<DAY_NAMES.length;w++){var u=DAY_NAMES[w];if(I.substring(H,H+u.length).toLowerCase()==u.toLowerCase()){H+=u.length;break}}}else{if(g=="MM"||g=="M"){F=_getInt(I,H,g.length,2);if(F==null||(F<1)||(F>12)){return 0}H+=F.length}else{if(g=="dd"||g=="d"){E=_getInt(I,H,g.length,2);if(E==null||(E<1)||(E>31)){return 0}H+=E.length}else{if(g=="hh"||g=="h"){e=_getInt(I,H,g.length,2);if(e==null||(e<1)||(e>12)){return 0}H+=e.length}else{if(g=="HH"||g=="H"){e=_getInt(I,H,g.length,2);if(e==null||(e<0)||(e>23)){return 0}H+=e.length}else{if(g=="KK"||g=="K"){e=_getInt(I,H,g.length,2);if(e==null||(e<0)||(e>11)){return 0}H+=e.length}else{if(g=="kk"||g=="k"){e=_getInt(I,H,g.length,2);if(e==null||(e<1)||(e>24)){return 0}H+=e.length;e--}else{if(g=="mm"||g=="m"){B=_getInt(I,H,g.length,2);if(B==null||(B<0)||(B>59)){return 0}H+=B.length}else{if(g=="ss"||g=="s"){v=_getInt(I,H,g.length,2);if(v==null||(v<0)||(v>59)){return 0}H+=v.length}else{if(g=="a"){if(I.substring(H,H+2).toLowerCase()=="am"){r="AM"}else{if(I.substring(H,H+2).toLowerCase()=="pm"){r="PM"}else{return 0}}H+=2}else{if(I.substring(H,H+g.length)!=g){return 0}else{H+=g.length}}}}}}}}}}}}}}if(H!=I.length){return 0}if(F==2){if(((q%4==0)&&(q%100!=0))||(q%400==0)){if(E>29){return 0}}else{if(E>28){return 0}}}if((F==4)||(F==6)||(F==9)||(F==11)){if(E>30){return 0}}if(e<12&&r=="PM"){e=e-0+12}else{if(e>11&&r=="AM"){e-=12}}var a=new Date(q,F-1,E,e,B,v);return a.getTime()}function diffInDays(b,a){return getDifferenceInDays(getStandardDateFormat(b),getStandardDateFormat(a))}function setDateFormat(a){applicableFormat=a}function compareDates(c,b){var a=compareDatesInternal(c,applicableFormat,b,applicableFormat);if(a==1){return 1}else{if(a==2){return 2}else{if(a==-1){alert("Invalid date format specified");return -1}else{if(a==0){return 0}}}}}function getStandardDateFormat(a){var f=checkParam(a);var e=null,b=null;e=getDateFromFormat(f,applicableFormat);if(e!=0){var c=new Date(e);b=new Array();b[0]=c.getDate();b[1]=c.getMonth();b[2]=c.getFullYear();return b}return null}function betweenTimePeriod(f,g,r){var b=null;var q=null;if(arguments.length>3){b=arguments[3];q=arguments[4]}var a=null;var t=false;if(b==null){t=true}if(b!=null){var s=compareDatesInternal(g,applicableFormat,b,applicableFormat);if(s==-1){alert("Invalid Date format");a=false}else{if(s==2){alert(q);g.focus();a=false}else{a=true}}}if(a==false){return false}if((t==true)||(a==true)){var h=new Array();f=checkParam(f);h=f.split("-");var e=TrimAll(h[0]);var c=TrimAll(h[1]);var p=compareDatesInternal(e,applicableFormat,g,applicableFormat);var o=compareDatesInternal(g,applicableFormat,c,applicableFormat);if(p==0){return true}else{if(p==2){if(o==0){return true}else{if(o==1){alert(r);g.focus();return false}}}else{alert(r);g.focus();return false}}}}function dateValidation(b){if(isInteger(checkParam(b))){alert("Date should have a format "+applicableFormat);return false}else{var a=isDate(TrimAll(checkParam(b)),applicableFormat);if(!a){alert("Invalid date specified");return false}else{return true}}}function validateStartEndDates(c,b){var a=compareDatesInternal(c,applicableFormat,b,applicableFormat);if(a==1){return false}else{if(a==2){return true}else{if(a==-1){alert("Invalid date")}}}}function dateAfterTodayDate(c){var a=new Date();var b=getDateFromFormat(c,applicableFormat);if(a<b+24*60*60-1){return true}else{return false}}function dateEqualAndAfterTodayDate(c){var e=new Date();var a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);var b=getDateFromFormat(c,applicableFormat);if(a<=b+24*60*60-1){return true}else{return false}}function dateBeforeTodayDate(c){var a=new Date();var b=getDateFromFormat(c,applicableFormat);if(a>b+24*60*60-1){return true}else{return false}}function formatDateToString(b){format=applicableFormat+"";var B="";var g=0;var u="";var e="";var v=b.getFullYear()+"";var r=b.getMonth()+1;var t=b.getDate();var o=b.getHours();var a=b.getMinutes();var A=b.getSeconds();var f,q,p,z,x;if(v.length<4){v=v-0+1900}v=""+v;f=v;q=v.substring(2,4);if(r<10){z="0"+r}else{z=r}p=MONTH_NAMES[r-1+12];if(t<10){x="0"+t}else{x=t}var w=new Object();w.yyyy=f;w.yy=q;w.y=v;w.MMM=p;w.MM=z;w.M=r;w.dd=x;w.d=t;while(g<format.length){u=format.charAt(g);e="";while((format.charAt(g)==u)&&(g<format.length)){e+=format.charAt(g);g++}if(w[e]!=null){B=B+w[e]}else{B=B+e}}return B}function HijriToGreg(c){var c=new Date(getDateFromFormat(c,applicableFormat));var f=c.getFullYear();var b=c.getMonth()+1;var e=c.getDate();d=parseInt(e);m=parseInt(b);y=parseInt(f);delta=1;jd=intPart((11*y+3)/30)+354*y+30*m-intPart((m-1)/2)+d+1948440-385-delta;if(jd>2299160){l=jd+68569;n=intPart((4*l)/146097);l=l-intPart((146097*n+3)/4);i=intPart((4000*(l+1))/1461001);l=l-intPart((1461*i)/4)+31;j=intPart((80*l)/2447);d=l-intPart((2447*j)/80);l=intPart(j/11);m=j+2-12*l;y=100*(n-49)+i+l}else{j=jd+1402;k=intPart((j-1)/1461);l=j-1461*k;n=intPart((l-1)/365)-intPart(l/1461);i=l-365*n+30;j=intPart((80*i)/2447);d=i-intPart((2447*j)/80);i=intPart(j/11);m=j+2-12*i;y=4*k+n+i-4716}var a=new Date();a.setFullYear(y);a.setMonth(m-1);a.setDate(d);return formatDateToString(a)}function GregToHijri(c){var c=new Date(getDateFromFormat(c,applicableFormat));var f=c.getFullYear();var a=c.getMonth()+1;var e=c.getDate();d=parseInt(e);m=parseInt(a);y=parseInt(f);delta=1;if((y>1582)||((y==1582)&&(m>10))||((y==1582)&&(m==10)&&(d>14))){jd=intPart((1461*(y+4800+intPart((m-14)/12)))/4)+intPart((367*(m-2-12*(intPart((m-14)/12))))/12)-intPart((3*(intPart((y+4900+intPart((m-14)/12))/100)))/4)+d-32075+delta}else{jd=367*y-intPart((7*(y+5001+intPart((m-9)/7)))/4)+intPart((275*m)/9)+d+1729777+delta}jd1=jd-delta;l=jd-1948440+10632;n=intPart((l-1)/10631);l=l-10631*n+354;j=(intPart((10985-l)/5316))*(intPart((50*l)/17719))+(intPart(l/5670))*(intPart((43*l)/15238));l=l-(intPart((30-j)/15))*(intPart((17719*j)/50))-(intPart(j/16))*(intPart((15238*j)/43))+29;m=intPart((24*l)/709);d=l-intPart((709*m)/24);y=30*n+j-30;var b=new Date();b.setFullYear(y);b.setMonth(m-1);b.setDate(d);return formatDateToString(b)}function GregToHijriDate(c){var f=c.getFullYear();var a=c.getMonth()+1;var e=c.getDate();d=parseInt(e);m=parseInt(a);y=parseInt(f);delta=1;if((y>1582)||((y==1582)&&(m>10))||((y==1582)&&(m==10)&&(d>14))){jd=intPart((1461*(y+4800+intPart((m-14)/12)))/4)+intPart((367*(m-2-12*(intPart((m-14)/12))))/12)-intPart((3*(intPart((y+4900+intPart((m-14)/12))/100)))/4)+d-32075+delta}else{jd=367*y-intPart((7*(y+5001+intPart((m-9)/7)))/4)+intPart((275*m)/9)+d+1729777+delta}jd1=jd-delta;l=jd-1948440+10632;n=intPart((l-1)/10631);l=l-10631*n+354;j=(intPart((10985-l)/5316))*(intPart((50*l)/17719))+(intPart(l/5670))*(intPart((43*l)/15238));l=l-(intPart((30-j)/15))*(intPart((17719*j)/50))-(intPart(j/16))*(intPart((15238*j)/43))+29;m=intPart((24*l)/709);d=l-intPart((709*m)/24);y=30*n+j-30;var b=new Date();b.setFullYear(y);b.setMonth(m-1);b.setDate(d);return b}function intPart(a){if(a<-1e-7){return Math.ceil(a-1e-7)}return Math.floor(a+1e-7)};
