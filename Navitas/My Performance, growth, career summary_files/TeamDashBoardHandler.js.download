var timeout=500;var closetimer=0;var ddmenuitem=0;function mopen(a){mcancelclosetime();if(ddmenuitem){ddmenuitem.style.visibility="hidden"}ddmenuitem=document.getElementById(a);ddmenuitem.style.visibility="visible"}function mclose(){if(ddmenuitem){ddmenuitem.style.visibility="hidden"}}function mclosetime(){closetimer=window.setTimeout(mclose,timeout)}function mcancelclosetime(){if(closetimer){window.clearTimeout(closetimer);closetimer=null}}document.onclick=mclose;function showMsgFromSession(a,b){if(msgOnSession!=""&&(b==null||b=="")){displayConfirmationMsg("errorMsg",msgOnSession,"success")}}function initTeamDashBoard(){dwr.util.useLoadingMessage();displayTeamDashBoard("","")}function setUserNameAsEmpNo(a,b){if(b=="yes"){document.getElementById("userName").value=a.value}}function viewEmployeeHeirarchy(currentEmpId,levelDepth,relationShipTypeId){dwr.util.setValue("AddNewEmployee","");var levelDepth="3";var relationShipTypeId="1";if(document.getElementById("levelDepth")!=null&&document.getElementById("levelDepth").value!=-1){levelDepth=document.getElementById("levelDepth").value}if(document.getElementById("relationShipTypeId")!=null&&document.getElementById("relationShipTypeId").value!=-1){relationShipTypeId=document.getElementById("relationShipTypeId").value}var extraInfo=levelDepth+","+relationShipTypeId;ga("send","event",{eventCategory:"ObjectHeirarchyHandler",eventAction:"viewAllRecords",eventLabel:"getEmployeeHeirarchy"});adrh.viewAllRecords("ObjectHeirarchyHandler","getEmployeeHeirarchy",currentEmpId,extraInfo,{async:defaultAsyncValue,callback:function(dwrResponse){if(dwrResponse.error==true){displayConfirmationMsg("errorMsg",dwrResponse.errorMsg,"failure")}else{dwr.util.setValue("displayPageContent",dwrResponse.response,{escapeHtml:false});writeBreadCrumbData();eval(document.getElementById("orgChart").innerHTML);drawChart()}}})}function viewEmployeeHeirarchyInAnyUserRole(currentEmpId,levelDepth,relationShipTypeId){var levelDepth="3";var relationShipTypeId="1";if(document.getElementById("levelDepth")!=null&&document.getElementById("levelDepth").value!=-1){levelDepth=document.getElementById("levelDepth").value}if(document.getElementById("relationShipTypeId")!=null&&document.getElementById("relationShipTypeId").value!=-1){relationShipTypeId=document.getElementById("relationShipTypeId").value}var extraInfo=levelDepth+","+relationShipTypeId;ga("send","event",{eventCategory:"ObjectHeirarchyHandler",eventAction:"viewAllRecords",eventLabel:"getEmployeeHeirarchy"});adrh.viewAllRecords("ObjectHeirarchyHandler","viewEmployeeHeirarchyInAnyUserRole",currentEmpId,extraInfo,{async:defaultAsyncValue,callback:function(dwrResponse){if(dwrResponse.error==true){displayConfirmationMsg("errorMsg",dwrResponse.errorMsg,"failure")}else{dwr.util.setValue("displayPageContent",dwrResponse.response,{escapeHtml:false});eval(document.getElementById("orgChart").innerHTML);drawChart()}}})}function displayTeamDashBoard(a,b){if(b==null){b=""}dwr.util.setValue("AddNewEmployee","");ga("send","event",{eventCategory:"TeamDashBoardHandler",eventAction:"viewAllRecords",eventLabel:"viewEmp"});adrh.viewAllRecords("TeamDashBoardHandler","viewEmp",b,a,{async:defaultAsyncValue,callback:function(c){if(c.error==true){displayConfirmationMsg("errorMsg",c.errorMsg,"failure")}else{dwr.util.setValue("displayPageContent",c.response,{escapeHtml:false});displayConfirmationMsg("errorMsg",c.notificationMsg,"success");showMsgFromSession("errorMsg",c.notificationMsg);lazyload();initializeCalendar();runFaq();writeBreadCrumbData()}}})}function showActivity(){var c="This week";if(document.getElementById("selectedCalendarId")!=null){c=document.getElementById("selectedCalendarId").value;if(c=="customDates"){var a=document.getElementById("_sDate");var d=document.getElementById("_eDate");if(trim(a.value)==""){jAlert(a_specifyStartDate,"",a);return false}if(trim(d.value)==""){jAlert(a_specifyEndDate,"",d);return false}var b=a.value+","+d.value;ga("send","event",{eventCategory:"TeamDashBoardHandler",eventAction:"executeCall",eventLabel:"filterChanged"});adrh.executeCall("TeamDashBoardHandler","Customize","","filterChanged",b,{async:defaultAsyncValue,callback:function(e){displayTeamDashBoard("","")}})}else{ga("send","event",{eventCategory:"TeamDashBoardHandler",eventAction:"executeCall",eventLabel:"filterChanged"});adrh.executeCall("TeamDashBoardHandler",c,"","filterChanged","",{async:defaultAsyncValue,callback:function(e){displayTeamDashBoard("","")}})}}}function sendChatMessageToEmp(b){var a=dwr.util.getValue("chatMessageContent");if(a==""){jAlert(a_specifyMessage);return false}ga("send","event",{eventCategory:"MessageHandler",eventAction:"executeCall",eventLabel:"sendWishMessage"});adrh.executeCall("MessageHandler",b,"sendWishMessage",a,"",{async:defaultAsyncValue,callback:function(c){closeFancyBox();displayConfirmationMsg("errorMsg",c.notificationMsg,"success")}})}function showChatMessageOnDialog(a,b){ga("send","event",{eventCategory:"MessageHandler",eventAction:"viewAllRecords",eventLabel:"sendWishMessage"});adrh.viewAllRecords("MessageHandler","sendWishMessage",a,"",{async:defaultAsyncValue,callback:function(c){showFancyBox(c.response);dwr.util.setValue("chatMessageContent",b)}})}function showCommonNotes(c,a){if(a==null){a=""}ga("send","event",{eventCategory:"CommonNotesHandler",eventAction:"viewAllRecords",eventLabel:"viewTeamCommonNotesByEmpId"});var b="viewTeamCommonNotesByEmpId";if(a=="teamProfilePage"){b="viewTeamProfileByEmpId"}adrh.viewAllRecords("CommonNotesHandler",b,c,a,{async:defaultAsyncValue,callback:function(d){showFancyBox(d.response);initializeCKEditor()}})}function numericFilter(a){a.value=a.value.replace(/[\-\+\*\/\<\>\,]/ig,"")}function editCommonNotes(b,a){ga("send","event",{eventCategory:"CommonNotesHandler",eventAction:"viewRecordForEdit",eventLabel:"editCommonNotes"});adrh.viewRecordForEdit("CommonNotesHandler",b,"editCommonNotes","",a,{async:defaultAsyncValue,callback:function(c){showFancyBox(c.response);initializeCKEditor()}})}function saveCommonNotesById(a,h){var e=dwr.util.getValue("noteEmpId");var c=dwr.util.getValue("notesBy");var b=dwr.util.getValue("noteType");var i=dwr.util.getValue("visibleTo");var g="";if(document.getElementById("ckEditor_notes")!=null){g=CKEDITOR.instances.ckEditor_notes.getData()}if(b==null||b==""){jAlert(a_specifyNotesType);return false}if(g==""){jAlert(a_specifyNotes);return false}var f=new Object();f.journalId=a;f.message=g;f.empId=e;f.messageById=c;f.p7=b;f.visibleTo=i;var d=JSON.stringify(f);ga("send","event",{eventCategory:"CommonNotesHandler",eventAction:"saveRecord",eventLabel:"saveTeo"});adrh.saveRecord("CommonNotesHandler",d,"saveTeo","saigun.empxtrack.appraisalII.teo.JournalTEO","updateCommonNotes",{async:defaultAsyncValue,callback:function(j){if(j.error==true){displayConfirmationMsg("errorMsgOnPopUp",j.errorMsg,"failure")}else{if(h=="teamProfilePage"){closeFancyBox();displayCommonNotes(e)}else{closeFancyBox()}}displayConfirmationMsg("errorMsg",j.notificationMsg,"success")}})}function deleteNotes(b,c,a){jConfirm(a_teamDashboard_confirmNoteDelete,"",function(d){d.close();ga("send","event",{eventCategory:"CommonNotesHandler",eventAction:"viewRecordForEdit",eventLabel:"deleteCommonNotes"});adrh.viewRecordForEdit("CommonNotesHandler",b,"deleteCommonNotes","","",{async:defaultAsyncValue,callback:function(e){if("teamProfilePage"==a){displayCommonNotes(c);displayConfirmationMsg("errorMsg",e.notificationMsg,"success")}else{showCommonNotes(c,"");displayConfirmationMsg("errorMsgOnPopUp",e.notificationMsg,"success")}}})})}function fillCommonNotesData(a,b){ga("send","event",{eventCategory:"CommonNotesHandler",eventAction:"viewAllRecords",eventLabel:"viewTeamCommonNotesByEmpId"});adrh.viewAllRecords("CommonNotesHandler","viewTeamCommonNotesByEmpId",b,"",{async:defaultAsyncValue,callback:function(c){showFancyBox(c.response);displayConfirmationMsg("errorMsgOnPopUp",a,"success")}})}function testR(c){var a=document.getElementsByName(c);for(var b=0;b<a.length;b++){if(a[b].checked){a[b].parentNode.parentNode.className="selected"}else{a[b].parentNode.parentNode.className="unselected"}}};
