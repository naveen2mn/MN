function prepareSignature(a){adrh.viewAllRecords("SignatureHandler",a,"","",{async:defaultAsyncValue,callback:function(b){showFancyBox(b.response);if(a=="drawSign"){setTimeout(function(){$("#signature").jSignature({width:400,height:244})},1000)}}})}function prepareSignatureInPage(a){if(a=="signaturePanel"){document.getElementById("uploadSignaturePanel").style.display="none";dwr.util.setValue("signature","",{escapeHtml:false});setTimeout(function(){$("#signature").jSignature({width:300,height:144});document.getElementById(a).style.display=""},1000)}else{document.getElementById(a).style.display="";document.getElementById("signaturePanel").style.display="none"}}function cancelPrepareSignatureInPage(a){document.getElementById(a).style.display="none"}function uploadSignature(){var d=document.getElementById("signature_uploadFile");var c=new Object();var b=document.getElementById("signatureId").value;c.employeenumber=b;var a=JSON.stringify(c);adrh.executeCall("SignatureHandler",a,"uploadSignatureDocument","","",d,{async:defaultAsyncValue,callback:function(f){var e="attachedSign_"+b;document.getElementById(e).src="data:image/png;base64,"+f.responseTeo.dataObject;closeFancyBox();showSignatureAfterCreate()}})}function uploadSignatureInPage(){var d=document.getElementById("signature_uploadFile");var c=new Object();var b=document.getElementById("signatureId").value;c.employeenumber=b;var a=JSON.stringify(c);adrh.executeCall("SignatureHandler",a,"uploadSignatureDocument","","",d,{async:defaultAsyncValue,callback:function(f){var e="attachedSign_"+b;document.getElementById(e).src="data:image/png;base64,"+f.responseTeo.dataObject;showSignatureAfterCreate()}})}function createSignature(){var d=new Object();var c=document.getElementById("signatureId").value;d.employeenumber=c;var b=$("#signature");var e=b.jSignature("getData","image");var a=JSON.stringify(d);adrh.executeCall("SignatureHandler",a,"createSignatureDocument","",e[1],{async:defaultAsyncValue,callback:function(g){var f="attachedSign_"+c;document.getElementById(f).src="data:image/png;base64,"+g.responseTeo.dataObject;closeFancyBox();showSignatureAfterCreate()}})}function createSignatureInPage(){var d=new Object();var c=document.getElementById("signatureId").value;d.employeenumber=c;var b=$("#signature");var e=b.jSignature("getData","image");var a=JSON.stringify(d);adrh.executeCall("SignatureHandler",a,"createSignatureDocument","",e[1],{async:defaultAsyncValue,callback:function(g){var f="attachedSign_"+c;document.getElementById(f).src="data:image/png;base64,"+g.responseTeo.dataObject;showSignatureAfterCreate()}})}function resetSignature(){var b=new Object();var a=$("#signature");a.jSignature("reset")}function applySignature(a){CKEDITOR.instances[a].insertText("!signature(loginUser.empId)");return false}function showHideSignature(){$("#loginUserSignatureId").toggle("slow");if($(".showHideSignatureBox").find("span").html()=="+"){$(".showHideSignatureBox").find("span").html("-");document.getElementById("loginUserSignatureId").style.display=""}else{$(".showHideSignatureBox").find("span").html("+");$("#loginUserSignatureId").hide("slow")}}function showSignatureAfterCreate(){$(".showHideSignatureBox").find("span").html("-");document.getElementById("loginUserSignatureId").style.display=""};
