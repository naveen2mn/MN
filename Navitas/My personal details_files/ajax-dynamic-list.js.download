var searchType=1;function updateSearchTypeValue(a){searchType=a}var ajaxBox_offsetX=0;var ajaxBox_offsetY=0;var ajax_list_externalFile="ajax-list-countries.php";var minimumLettersBeforeLookup=1;var ajax_list_objects=new Array();var ajax_list_cachedLists=new Array();var ajax_list_activeInput=false;var ajax_list_activeItem;var ajax_list_optionDivFirstItem=false;var ajax_list_currentLetters=new Array();var ajax_optionDiv=false;var ajax_optionDiv_iframe=false;var ajax_list_MSIE=false;if(navigator.userAgent.indexOf("MSIE")>=0&&navigator.userAgent.indexOf("Opera")<0){ajax_list_MSIE=true}var currentListIndex=0;function ajax_getTopPos(a){var b=a.offsetTop;while((a=a.offsetParent)!=null){b+=a.offsetTop}return b}function ajax_list_cancelEvent(){return false}function ajax_getLeftPos(a){var b=a.offsetLeft;while((a=a.offsetParent)!=null){b+=a.offsetLeft}return b}function ajax_option_setValue(d,c){if(!c){c=this}var b=c.innerHTML;if(ajax_list_MSIE){b=c.innerText}else{b=c.textContent}if(!b){b=c.innerHTML}ajax_list_activeInput.value=b;if(document.getElementById(ajax_list_activeInput.name+"_hidden")){document.getElementById(ajax_list_activeInput.name+"_hidden").value=c.id}var a=setTimeout("ajax_list_activeInput.focus()",1);var f=setTimeout("ajax_list_activeInput.value = ajax_list_activeInput.value",1);ajax_options_hide()}function ajax_options_hide(){if(ajax_optionDiv){ajax_optionDiv.style.display="none"}if(ajax_optionDiv_iframe){ajax_optionDiv_iframe.style.display="none"}}function ajax_options_rollOverActiveItem(a,b){if(ajax_list_activeItem){ajax_list_activeItem.className="optionDiv"}a.className="optionDivSelected";ajax_list_activeItem=a;if(b){if(ajax_list_activeItem.offsetTop>ajax_optionDiv.offsetHeight){ajax_optionDiv.scrollTop=ajax_list_activeItem.offsetTop-ajax_optionDiv.offsetHeight+ajax_list_activeItem.offsetHeight+2}if(ajax_list_activeItem.offsetTop<ajax_optionDiv.scrollTop){ajax_optionDiv.scrollTop=0}}}function ajax_option_list_buildList(f,b){ajax_optionDiv.innerHTML="";ajax_list_activeItem=false;if(ajax_list_cachedLists[b][f.toLowerCase()].length<=1){ajax_options_hide();if(document.getElementById(ajax_list_activeInput.name+"_hidden")){document.getElementById(ajax_list_activeInput.name+"_hidden").value=-1}return}ajax_list_optionDivFirstItem=false;var d=false;for(var c=0;c<ajax_list_cachedLists[b][f.toLowerCase()].length;c++){if(ajax_list_cachedLists[b][f.toLowerCase()][c].length==0){continue}d=true;var e=document.createElement("DIV");var a=ajax_list_cachedLists[b][f.toLowerCase()][c].split(/###/gi);if(ajax_list_cachedLists[b][f.toLowerCase()].length==1&&ajax_list_activeInput.value==a[0]){ajax_options_hide();return}e.innerHTML=a[a.length-1];e.id=a[0];e.className="optionDiv";e.onmouseover=function(){ajax_options_rollOverActiveItem(this,false)};e.onclick=ajax_option_setValue;if(!ajax_list_optionDivFirstItem){ajax_list_optionDivFirstItem=e}ajax_optionDiv.appendChild(e)}if(d){ajax_optionDiv.style.display="block";if(ajax_optionDiv_iframe){ajax_optionDiv_iframe.style.display=""}ajax_options_rollOverActiveItem(ajax_list_optionDivFirstItem,true)}}function ajax_option_list_showContent(c,a,b,f){if(f!=currentListIndex){return}var g=a.value;var d=ajax_list_objects[c].response;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")};var e=d.trim().split("|");ajax_list_cachedLists[b][g.toLowerCase()]=e;ajax_option_list_buildList(g,b)}function ajax_option_list_showContentByDWR(d,b,c,g,a){if(g!=currentListIndex){return}var h=b.value;var e=a;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")};var f=e.trim().split("|");ajax_list_cachedLists[c][h.toLowerCase()]=f;ajax_option_list_buildList(h,c)}function ajax_option_resize(a){ajax_optionDiv.style.top=($(a).offset().top+a.offsetHeight+ajaxBox_offsetY)+"px";ajax_optionDiv.style.left=($(a).offset().left+ajaxBox_offsetX)+"px";if(ajax_optionDiv_iframe){ajax_optionDiv_iframe.style.left=ajax_optionDiv.style.left;ajax_optionDiv_iframe.style.top=ajax_optionDiv.style.top}}function ajax_showOptions(c,d,g,n,b){if(g.keyCode==13||g.keyCode==9){return}if(ajax_list_currentLetters[c.name]==c.value){return}if(!ajax_list_cachedLists[d]){ajax_list_cachedLists[d]=new Array()}ajax_list_currentLetters[c.name]=c.value;if(!ajax_optionDiv){ajax_optionDiv=document.createElement("DIV");ajax_optionDiv.id="ajax_listOfOptions";document.body.appendChild(ajax_optionDiv);if(ajax_list_MSIE){ajax_optionDiv_iframe=document.createElement("IFRAME");ajax_optionDiv_iframe.border="0";ajax_optionDiv_iframe.style.width=ajax_optionDiv.clientWidth+"px";ajax_optionDiv_iframe.style.height=ajax_optionDiv.clientHeight+"px";ajax_optionDiv_iframe.id="ajax_listOfOptions_iframe";document.body.appendChild(ajax_optionDiv_iframe)}var j=document.getElementsByTagName("INPUT");for(var l=0;l<j.length;l++){if(!j[l].onkeyup){j[l].onfocus=ajax_options_hide}}var h=document.getElementsByTagName("SELECT");for(var l=0;l<h.length;l++){h[l].onfocus=ajax_options_hide}var i=document.body.onkeydown;if(typeof i!="function"){document.body.onkeydown=ajax_option_keyNavigation}else{document.body.onkeydown=function(){i();ajax_option_keyNavigation()}}var f=document.body.onresize;if(typeof f!="function"){document.body.onresize=function(){ajax_option_resize(c)}}else{document.body.onresize=function(){f();ajax_option_resize(c)}}}if(c.value.length<minimumLettersBeforeLookup){ajax_options_hide();return}ajax_optionDiv.style.top=($(c).offset().top+c.offsetHeight+ajaxBox_offsetY)+"px";ajax_optionDiv.style.left=($(c).offset().left+ajaxBox_offsetX)+"px";if(ajax_optionDiv_iframe){ajax_optionDiv_iframe.style.left=ajax_optionDiv.style.left;ajax_optionDiv_iframe.style.top=ajax_optionDiv.style.top}ajax_list_activeInput=c;ajax_optionDiv.onselectstart=ajax_list_cancelEvent;currentListIndex++;var m=currentListIndex/1;ajax_optionDiv.innerHTML="";var k=ajax_list_objects.length;ajax_list_objects[k]=new sack();var a=c.value.replace(" ","+")+","+searchType;if(n!=null){a=c.value.replace(" ","+")}a=c.value+","+searchType+","+b;getSearchResultsContent(k,c,d,m,n,a)}function getSearchResultsContent(d,b,c,f,a,e){adrh.executeCall("AjaxSearchHandler","","getSearchResultsContent",a,e,{async:true,callback:function(g){ajax_option_list_showContentByDWR(d,b,c,f,g.responseTeo.dataObject.response)}})}function ajax_option_keyNavigation(a){if(document.all){a=event}if(!ajax_optionDiv){return}if(ajax_optionDiv.style.display=="none"){return}if(a.keyCode==38){if(!ajax_list_activeItem){return}if(ajax_list_activeItem&&!ajax_list_activeItem.previousSibling){return}ajax_options_rollOverActiveItem(ajax_list_activeItem.previousSibling,true)}if(a.keyCode==40){if(!ajax_list_activeItem){ajax_options_rollOverActiveItem(ajax_list_optionDivFirstItem,true)}else{if(!ajax_list_activeItem.nextSibling){return}ajax_options_rollOverActiveItem(ajax_list_activeItem.nextSibling,true)}}if(a.keyCode==13||a.keyCode==9){if(ajax_list_activeItem&&ajax_list_activeItem.className=="optionDivSelected"){ajax_option_setValue(false,ajax_list_activeItem)}if(a.keyCode==13){return false}else{return true}}if(a.keyCode==27){ajax_options_hide()}}document.documentElement.onclick=autoHideList;function autoHideList(a){if(document.all){a=event}if(a.target){source=a.target}else{if(a.srcElement){source=a.srcElement}}if(source.nodeType==3){source=source.parentNode}if(source.tagName.toLowerCase()!="input"&&source.tagName.toLowerCase()!="textarea"){ajax_options_hide()}};
